@inherits LayoutComponentBase

<div class="dashboard-layout">
    <aside class="dashboard-sidebar">
        <div class="sidebar-logo">
            <img src="/images/Final_logo-removebg-preview.png" alt="MedFlow Logo" class="sidebar-logo-img" />
            <span class="sidebar-app-name">MedFlow</span>
        </div>

        <nav class="sidebar-section">
            <div class="sidebar-section-title">MAIN</div>
            <button class="sidebar-item @(IsDashboardActive ? "active" : string.Empty)" @onclick="OnDashboardClick">ğŸ  Dashboard</button>
        </nav>

        <nav class="sidebar-section">
            <div class="sidebar-section-title">MODULES</div>
            <button class="sidebar-item @(IsPatientManagementActive ? "active" : string.Empty)" @onclick="OnPatientManagementClick">ğŸ§‘â€âš•ï¸ Patient Management</button>
            <button class="sidebar-item">ğŸ“‹ Health Record</button>
            <button class="sidebar-item">ğŸ’³ Invoicing &amp; Cashiering</button>
            <button class="sidebar-item">ğŸ§¾ Insurance &amp; Claims</button>
            <button class="sidebar-item">ğŸ’Š Pharmacy &amp; Inventory</button>
            <button class="sidebar-item">ğŸ“Š Reports / Analytics</button>
        </nav>

        <nav class="sidebar-section">
            <div class="sidebar-section-title">USER MANAGEMENT</div>
            <button class="sidebar-item">ğŸ‘¤ Admin</button>
        </nav>

        <nav class="sidebar-section">
            <div class="sidebar-section-title">SYSTEM</div>
            <button class="sidebar-item">ğŸ“œ Audit Logs</button>
            <button class="sidebar-item">ğŸ”„ Sync Management</button>
            <button class="sidebar-item">âš™ï¸ Settings</button>
        </nav>

        <button class="sidebar-logout" @onclick="Logout">LOG OUT</button>
    </aside>

    <div class="dashboard-main">
        @Body
    </div>
</div>

@code {
    [Inject]
    private NavigationManager Navigation { get; set; } = default!;

    private bool IsDashboardActive => Navigation.Uri.Contains("/dashboard", StringComparison.OrdinalIgnoreCase);

    private bool IsPatientManagementActive => Navigation.Uri.Contains("/patient-management", StringComparison.OrdinalIgnoreCase);

    private void OnDashboardClick() => Navigation.NavigateTo("/dashboard");

    private void OnPatientManagementClick() => Navigation.NavigateTo("/patient-management");

    private void Logout()
    {
        Navigation.NavigateTo("/login", forceLoad: true);
    }
}
